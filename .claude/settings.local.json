{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npx react-scripts build:*)",
      "Bash(npm run build:*)",
      "Bash(ls:*)",
      "Bash(\"/Users/annikabalaji/Desktop/BluCru Website/BluCruWebsite/src/components/CursorTrail.js\" << 'ENDOFFILE'\nimport React, { useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst TRAIL_LENGTH = 18;\n\nconst COLORS_DEFAULT = [\n  '#f59e0b', '#fbbf24', '#3b82f6', '#60a5fa', '#93c5fd',\n  '#f59e0b', '#fbbf24', '#3b82f6', '#60a5fa', '#fde68a',\n];\n\nconst COLORS_GREEN = [\n  '#bef264', '#a3e635', '#86efac', '#4ade80', '#fde68a',\n  '#bef264', '#a3e635', '#86efac', '#4ade80', '#fef08a',\n];\n\nexport default function CursorTrail\\(\\) {\n  const canvasRef = useRef\\(null\\);\n  const points = useRef\\([]\\);\n  const mouse = useRef\\({ x: -999, y: -999 }\\);\n  const animRef = useRef\\(null\\);\n  const location = useLocation\\(\\);\n\n  const isGreenGang = location.pathname === '/green-gang';\n  const colors = isGreenGang ? COLORS_GREEN : COLORS_DEFAULT;\n\n  // Keep a ref so the draw loop always sees the latest colors without restart\n  const colorsRef = useRef\\(colors\\);\n  colorsRef.current = colors;\n\n  useEffect\\(\\(\\) => {\n    const canvas = canvasRef.current;\n    if \\(!canvas\\) return;\n    const ctx = canvas.getContext\\('2d'\\);\n\n    const resize = \\(\\) => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    resize\\(\\);\n    window.addEventListener\\('resize', resize\\);\n\n    const onMove = \\(e\\) => {\n      const x = e.clientX ?? e.touches?.[0]?.clientX;\n      const y = e.clientY ?? e.touches?.[0]?.clientY;\n      if \\(x === undefined\\) return;\n      mouse.current = { x, y };\n      points.current.unshift\\({ x, y, age: 0 }\\);\n      if \\(points.current.length > TRAIL_LENGTH\\) points.current.length = TRAIL_LENGTH;\n    };\n\n    window.addEventListener\\('mousemove', onMove\\);\n    window.addEventListener\\('touchmove', onMove, { passive: true }\\);\n\n    const draw = \\(\\) => {\n      ctx.clearRect\\(0, 0, canvas.width, canvas.height\\);\n      const c = colorsRef.current;\n\n      points.current.forEach\\(\\(pt, i\\) => {\n        pt.age += 1;\n        const progress = i / TRAIL_LENGTH; // 0 = newest, 1 = oldest\n        const alpha = \\(1 - progress\\) * 0.85;\n        const radius = \\(1 - progress\\) * 10 + 2;\n        const color = c[i % c.length];\n\n        ctx.save\\(\\);\n        ctx.globalAlpha = alpha;\n        ctx.beginPath\\(\\);\n        ctx.arc\\(pt.x, pt.y, radius, 0, Math.PI * 2\\);\n\n        // Outer glow\n        const gradient = ctx.createRadialGradient\\(pt.x, pt.y, 0, pt.x, pt.y, radius * 2.5\\);\n        gradient.addColorStop\\(0, color\\);\n        gradient.addColorStop\\(1, 'transparent'\\);\n        ctx.fillStyle = gradient;\n        ctx.fill\\(\\);\n\n        // Bright core\n        ctx.beginPath\\(\\);\n        ctx.arc\\(pt.x, pt.y, radius * 0.4, 0, Math.PI * 2\\);\n        ctx.fillStyle = '#ffffff';\n        ctx.globalAlpha = alpha * 0.7;\n        ctx.fill\\(\\);\n        ctx.restore\\(\\);\n      }\\);\n\n      // Trim very old points\n      points.current = points.current.filter\\(\\(_, i\\) => i < TRAIL_LENGTH\\);\n      animRef.current = requestAnimationFrame\\(draw\\);\n    };\n\n    animRef.current = requestAnimationFrame\\(draw\\);\n\n    return \\(\\) => {\n      cancelAnimationFrame\\(animRef.current\\);\n      window.removeEventListener\\('resize', resize\\);\n      window.removeEventListener\\('mousemove', onMove\\);\n      window.removeEventListener\\('touchmove', onMove\\);\n    };\n  }, []\\);\n\n  return \\(\n    <canvas\n      ref={canvasRef}\n      style={{\n        position: 'fixed',\n        inset: 0,\n        zIndex: 99998,\n        pointerEvents: 'none',\n        width: '100vw',\n        height: '100vh',\n      }}\n    />\n  \\);\n}\nENDOFFILE)",
      "WebFetch(domain:www.imts.com)",
      "Bash(curl:*)",
      "Bash(\"/Users/annikabalaji/Desktop/BluCru Website/BluCruWebsite/src/components/ScratchReveal.js\" << 'ENDOFFILE'\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\n\nconst SCRATCH_THRESHOLD = 0.55; // fraction scratched to auto-complete\n\nexport default function ScratchReveal\\({ children, width = '100%', height = '100%' }\\) {\n  const canvasRef = useRef\\(null\\);\n  const containerRef = useRef\\(null\\);\n  const isDrawing = useRef\\(false\\);\n  const lastPos = useRef\\(null\\);\n  const [revealed, setRevealed] = useState\\(false\\);\n  const [started, setStarted] = useState\\(false\\);\n  const scratchedPixels = useRef\\(0\\);\n  const totalPixels = useRef\\(0\\);\n\n  const getPos = \\(e, canvas\\) => {\n    const rect = canvas.getBoundingClientRect\\(\\);\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n    if \\(e.touches\\) {\n      return {\n        x: \\(e.touches[0].clientX - rect.left\\) * scaleX,\n        y: \\(e.touches[0].clientY - rect.top\\) * scaleY,\n      };\n    }\n    return {\n      x: \\(e.clientX - rect.left\\) * scaleX,\n      y: \\(e.clientY - rect.top\\) * scaleY,\n    };\n  };\n\n  const checkProgress = useCallback\\(\\(ctx, canvas\\) => {\n    const imageData = ctx.getImageData\\(0, 0, canvas.width, canvas.height\\);\n    let transparent = 0;\n    for \\(let i = 3; i < imageData.data.length; i += 4\\) {\n      if \\(imageData.data[i] < 128\\) transparent++;\n    }\n    const fraction = transparent / \\(canvas.width * canvas.height\\);\n    if \\(fraction > SCRATCH_THRESHOLD && !revealed\\) {\n      // Fade out the whole canvas\n      ctx.clearRect\\(0, 0, canvas.width, canvas.height\\);\n      setRevealed\\(true\\);\n    }\n  }, [revealed]\\);\n\n  const scratch = useCallback\\(\\(ctx, canvas, pos\\) => {\n    ctx.globalCompositeOperation = 'destination-out';\n    ctx.beginPath\\(\\);\n    if \\(lastPos.current\\) {\n      ctx.moveTo\\(lastPos.current.x, lastPos.current.y\\);\n      ctx.lineTo\\(pos.x, pos.y\\);\n      ctx.lineWidth = 54;\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n      ctx.stroke\\(\\);\n    }\n    // Extra circle for smooth dots on slow moves\n    ctx.beginPath\\(\\);\n    ctx.arc\\(pos.x, pos.y, 27, 0, Math.PI * 2\\);\n    ctx.fill\\(\\);\n    lastPos.current = pos;\n    checkProgress\\(ctx, canvas\\);\n  }, [checkProgress]\\);\n\n  useEffect\\(\\(\\) => {\n    const canvas = canvasRef.current;\n    if \\(!canvas\\) return;\n    const ctx = canvas.getContext\\('2d'\\);\n\n    const draw = \\(\\) => {\n      const w = canvas.offsetWidth;\n      const h = canvas.offsetHeight;\n      canvas.width = w;\n      canvas.height = h;\n      totalPixels.current = w * h;\n\n      // Dark foil overlay with grid pattern\n      ctx.globalCompositeOperation = 'source-over';\n      ctx.fillStyle = '#0f1623';\n      ctx.fillRect\\(0, 0, w, h\\);\n\n      // Shimmer grid\n      ctx.strokeStyle = 'rgba\\(59,130,246,0.18\\)';\n      ctx.lineWidth = 1;\n      const spacing = 18;\n      for \\(let x = 0; x < w; x += spacing\\) {\n        ctx.beginPath\\(\\); ctx.moveTo\\(x, 0\\); ctx.lineTo\\(x, h\\); ctx.stroke\\(\\);\n      }\n      for \\(let y = 0; y < h; y += spacing\\) {\n        ctx.beginPath\\(\\); ctx.moveTo\\(0, y\\); ctx.lineTo\\(w, y\\); ctx.stroke\\(\\);\n      }\n\n      // Diagonal shimmer lines\n      ctx.strokeStyle = 'rgba\\(245,158,11,0.10\\)';\n      ctx.lineWidth = 1;\n      for \\(let d = -h; d < w + h; d += 36\\) {\n        ctx.beginPath\\(\\); ctx.moveTo\\(d, 0\\); ctx.lineTo\\(d + h, h\\); ctx.stroke\\(\\);\n      }\n\n      // Scratch to reveal text\n      ctx.globalCompositeOperation = 'source-over';\n      ctx.save\\(\\);\n      ctx.translate\\(w / 2, h / 2\\);\n\n      // Coin icon\n      const coinR = 28;\n      const gradient = ctx.createRadialGradient\\(-6, -6, 4, 0, 0, coinR\\);\n      gradient.addColorStop\\(0, '#fde68a'\\);\n      gradient.addColorStop\\(0.5, '#f59e0b'\\);\n      gradient.addColorStop\\(1, '#92400e'\\);\n      ctx.beginPath\\(\\);\n      ctx.arc\\(0, -52, coinR, 0, Math.PI * 2\\);\n      ctx.fillStyle = gradient;\n      ctx.fill\\(\\);\n\n      // Dollar sign on coin\n      ctx.fillStyle = '#78350f';\n      ctx.font = 'bold 24px sans-serif';\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      ctx.fillText\\('✦', 0, -52\\);\n\n      // \"SCRATCH TO REVEAL\" text\n      ctx.fillStyle = '#f59e0b';\n      ctx.font = 'bold 13px \"Orbitron\", sans-serif';\n      ctx.letterSpacing = '2px';\n      ctx.fillText\\('SCRATCH TO REVEAL', 0, -10\\);\n\n      ctx.fillStyle = 'rgba\\(148,163,184,0.8\\)';\n      ctx.font = '11px sans-serif';\n      ctx.fillText\\('drag your cursor across the image', 0, 12\\);\n\n      ctx.restore\\(\\);\n    };\n\n    draw\\(\\);\n\n    const onResize = \\(\\) => draw\\(\\);\n    window.addEventListener\\('resize', onResize\\);\n    return \\(\\) => window.removeEventListener\\('resize', onResize\\);\n  }, []\\);\n\n  useEffect\\(\\(\\) => {\n    const canvas = canvasRef.current;\n    if \\(!canvas || revealed\\) return;\n    const ctx = canvas.getContext\\('2d'\\);\n\n    const start = \\(e\\) => {\n      e.preventDefault\\(\\);\n      isDrawing.current = true;\n      lastPos.current = null;\n      setStarted\\(true\\);\n      scratch\\(ctx, canvas, getPos\\(e, canvas\\)\\);\n    };\n    const move = \\(e\\) => {\n      e.preventDefault\\(\\);\n      if \\(!isDrawing.current\\) return;\n      scratch\\(ctx, canvas, getPos\\(e, canvas\\)\\);\n    };\n    const end = \\(\\) => {\n      isDrawing.current = false;\n      lastPos.current = null;\n    };\n\n    canvas.addEventListener\\('mousedown', start\\);\n    canvas.addEventListener\\('mousemove', move\\);\n    window.addEventListener\\('mouseup', end\\);\n    canvas.addEventListener\\('touchstart', start, { passive: false }\\);\n    canvas.addEventListener\\('touchmove', move, { passive: false }\\);\n    window.addEventListener\\('touchend', end\\);\n\n    return \\(\\) => {\n      canvas.removeEventListener\\('mousedown', start\\);\n      canvas.removeEventListener\\('mousemove', move\\);\n      window.removeEventListener\\('mouseup', end\\);\n      canvas.removeEventListener\\('touchstart', start\\);\n      canvas.removeEventListener\\('touchmove', move\\);\n      window.removeEventListener\\('touchend', end\\);\n    };\n  }, [scratch, revealed]\\);\n\n  return \\(\n    <div ref={containerRef} style={{ position: 'relative', width, height, userSelect: 'none' }}>\n      {/* The revealed content sits underneath */}\n      <div style={{ position: 'absolute', inset: 0 }}>\n        {children}\n      </div>\n\n      {/* Scratch canvas sits on top */}\n      {!revealed && \\(\n        <canvas\n          ref={canvasRef}\n          style={{\n            position: 'absolute',\n            inset: 0,\n            width: '100%',\n            height: '100%',\n            cursor: 'crosshair',\n            borderRadius: 'inherit',\n            transition: revealed ? 'opacity 0.5s ease' : 'none',\n          }}\n        />\n      \\)}\n\n      {/* Hint pulse indicator — fades once started */}\n      {!revealed && \\(\n        <div style={{\n          position: 'absolute',\n          bottom: 12,\n          left: '50%',\n          transform: 'translateX\\(-50%\\)',\n          display: 'flex',\n          alignItems: 'center',\n          gap: 6,\n          opacity: started ? 0 : 1,\n          transition: 'opacity 0.4s ease',\n          pointerEvents: 'none',\n          zIndex: 10,\n        }}>\n          <span style={{\n            width: 8, height: 8, borderRadius: '50%',\n            background: '#f59e0b',\n            animation: 'scratchPulse 1.2s ease-in-out infinite',\n            display: 'inline-block',\n          }} />\n          <span style={{ fontSize: 11, color: '#f59e0b', fontFamily: 'sans-serif', letterSpacing: 1 }}>\n            scratch to reveal\n          </span>\n          <span style={{\n            width: 8, height: 8, borderRadius: '50%',\n            background: '#f59e0b',\n            animation: 'scratchPulse 1.2s ease-in-out 0.4s infinite',\n            display: 'inline-block',\n          }} />\n        </div>\n      \\)}\n    </div>\n  \\);\n}\nENDOFFILE)"
    ]
  }
}
